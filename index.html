<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="CV Generator">
    <meta name="description" content="Professional CV Generator - Create stunning, ATS-friendly resumes instantly">
    <meta name="keywords" content="CV generator, resume builder, ATS friendly, professional resume">
    <title>üì± CV Generator - Professional Resume Builder</title>
    <link rel="stylesheet" href="styles.css?v=2025-10-07-v4">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
    <!-- Ensure CSS loads before any inline styles or scripts -->
    <style>
        /* Critical CSS to ensure template styles work on deployment */
        .cv { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        .cv * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
    </style>
    <script>
        // iOS Safari file protocol detection and guidance
        if (window.location.protocol === 'file:') {
            document.addEventListener('DOMContentLoaded', function() {
                const notice = document.createElement('div');
                notice.className = 'ios-notice';
                notice.innerHTML = `
                    <div class="ios-notice-content">
                        <strong>üì± iOS Users:</strong> If this opened as text/PDF, please:<br>
                        1. Save this file to Files app<br>
                        2. Tap & hold the file ‚Üí Share ‚Üí "Copy to Safari"<br>
                        3. Or use the web version for best experience<br>
                        <button onclick="this.parentElement.parentElement.style.display='none'" class="close-notice">‚úï Close</button>
                    </div>
                `;
                document.body.insertBefore(notice, document.body.firstChild);
            });
        }
    </script>
    <script>
        // Register Service Worker to cache assets and enable offline Export PDF
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('./sw.js').catch(console.warn);
            });
        }
    </script>
    <script>
        // GitHub Pages Detection and Enhancements
        window.addEventListener('DOMContentLoaded', function() {
            const isGitHubPages = window.location.hostname.includes('github.io') || window.location.hostname.includes('github.com');
            
            if (isGitHubPages) {
                console.log('üöÄ GitHub Pages detected - applying deployment fixes');
                
                // Add GitHub Pages class for CSS targeting
                document.body.classList.add('github-pages-deployment');
                
                // GitHub Pages Content Security Policy fix
                window.GITHUB_PAGES_MODE = true;
                
                // Force PDF engine fallback on GitHub Pages
                window.FORCE_PRINT_FALLBACK = true;
                
                // Enhance PDF export buttons for GitHub Pages
                setTimeout(() => {
                    const exportBtn = document.getElementById('exportBtn');
                    const printBtn = document.getElementById('printBtn');
                    
                    if (exportBtn) {
                        exportBtn.title = 'Export PDF (GitHub Pages: Uses print fallback)';
                        // Force print method on GitHub Pages
                        exportBtn.onclick = function(e) {
                            e.preventDefault();
                            console.log('üéØ GitHub Pages: Forcing print method');
                            if (window.printCV) {
                                window.printCV();
                            } else {
                                alert('Print function not ready. Please wait a moment and try again.');
                            }
                        };
                    }
                    
                    if (printBtn) {
                        printBtn.title = 'Print CV (Recommended for GitHub Pages)';
                    }
                }, 1000);
                
                // Disable service worker on GitHub Pages to avoid conflicts
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(function(registrations) {
                        for(let registration of registrations) {
                            registration.unregister();
                        }
                    });
                }
                
                // Preload critical assets for GitHub Pages
                const criticalAssets = ['./styles.css', './script.js'];
                criticalAssets.forEach(asset => {
                    const link = document.createElement('link');
                    link.rel = 'preload';
                    link.as = asset.endsWith('.css') ? 'style' : 'script';
                    link.href = asset + '?v=' + new Date().toISOString().split('T')[0];
                    document.head.appendChild(link);
                });
            }
        });
    </script>
    <script>
        // GitHub Pages Script Loading Enhancement
        window.addEventListener('load', function() {
            // Ensure script.js loads properly on GitHub Pages
            if (!window.updatePreview) {
                console.warn('‚ö†Ô∏è Main script not loaded, attempting reload...');
                const script = document.createElement('script');
                script.src = './script.js?v=' + Date.now();
                script.onload = () => console.log('‚úÖ Script reloaded successfully');
                script.onerror = () => console.error('‚ùå Script reload failed');
                document.head.appendChild(script);
            }
        });
    </script>
</head>
<body>
    <!-- GitHub Pages Specific Fixes -->
    <script>
        // Load GitHub Pages fixes if on GitHub Pages
        if (window.location.hostname.includes('github.io') || window.location.hostname.includes('github.com')) {
            const gitHubScript = document.createElement('script');
            gitHubScript.src = './github-pages-fix.js?v=' + Date.now();
            gitHubScript.async = true;
            document.head.appendChild(gitHubScript);
        }
        
        // Load enhanced print functionality
        const enhancedPrintScript = document.createElement('script');
        enhancedPrintScript.src = './enhanced-print.js?v=' + Date.now();
        enhancedPrintScript.async = true;
        document.head.appendChild(enhancedPrintScript);
    </script>
    <div class="container">
        <div class="header">
            <h1>üéØ Professional CV Generator</h1>
            <p>Create stunning, ATS-friendly resumes instantly</p>
        </div>
        
        <div class="main-content">
            <!-- Editor Panel -->
            <div class="editor-panel">
                <h2 class="section-title">üìù CV Builder</h2>
                
                <div class="form-group">
                    <label class="form-label" for="templateSelect">CV Template</label>
                    <select id="templateSelect" class="form-input" onchange="changeTemplate()" title="Select CV Template">
                        <option value="classic">Two-Column Sidebar</option>
                        <option value="modern">Timeline Design</option>
                        <option value="executive">Card-Based Layout</option>
                        <option value="tech">Infographic Style</option>
                        <option value="creative">Creative Portfolio</option>
                        <option value="academic">Split-Screen Design</option>
                        <option value="silver">Silver Glass Header</option>
                        <option value="minimal">Minimal Professional</option>
                        <option value="corporate">Corporate Clean</option>
                        <option value="monochrome">Monochrome Elegant</option>
                        <option value="modular">Modular Grid</option>
                        <option value="ats-essentials">ATS Essentials (Single Column)</option>
                        <option value="product-lead">Product Leader Spotlight</option>
                        <option value="neon-tech">üåü Neon Tech Futuristic</option>
                        <option value="luxury-gold">‚ú® Luxury Gold Executive</option>
                        <option value="gradient-wave">üåä Gradient Wave Modern</option>
                        <option value="watermark-pro">üíé Watermark Professional</option>
                        <option value="minimal-glass">üîÆ Minimal Glass Design</option>
                        <option value="bold-geometric">üî∫ Bold Geometric Art</option>
                        <option value="artistic-portfolio">üé® Artistic Portfolio</option>
                    </select>
                    <div class="form-help">Choose a professional template optimized for ATS systems</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="fullName" class="form-input" value="John Doe" placeholder="Your full name">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Job Title</label>
                    <input type="text" id="jobTitle" class="form-input" value="Senior Software Engineer | Full-Stack Developer" placeholder="Your job title">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Contact Information</label>
                    <textarea id="contactInfo" class="form-textarea contact-textarea" placeholder="üìç Location | üìß email@example.com | üìû +phone | LinkedIn | GitHub">üìç Warsaw, Poland
üìß john.doe@gmail.com
üìû +48 123 456 789
üîó https://linkedin.com/in/john-doe
üíª https://github.com/johndoe</textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">CV Content</label>
                    <div class="format-row">
                        <label for="contentFormat" class="form-label compact">Format:</label>
                        <select id="contentFormat" class="form-input format-select" title="Select content format">
                            <option value="html" selected>HTML</option>
                            <option value="markdown">Markdown (.md)</option>
                            <option value="text">Plain Text (.txt)</option>
                        </select>
                    </div>
                    <textarea id="cvContent" class="form-textarea cv-content-textarea" placeholder="Complete CV content in HTML format..."><div class="cv-section">
    <h3>Professional Summary</h3>
    <div class="cv-summary">
        <p>Experienced <strong>Senior Software Engineer</strong> with over <strong>5 years of expertise</strong> in full-stack development, system architecture, and team leadership. Proven track record of delivering scalable web applications and leading cross-functional teams to successful project completion.</p>
        <p>Specialized in <em>modern JavaScript frameworks</em>, cloud technologies, and agile development methodologies. Passionate about clean code, performance optimization, and mentoring junior developers.</p>
    </div>
</div>

<div class="cv-section">
    <h3>Core Skills</h3>
    <div class="cv-skills">
        <div class="skill-category">
            <h4>Frontend Technologies</h4>
            <span class="skill-tag">React</span>
            <span class="skill-tag">Vue.js</span>
            <span class="skill-tag">TypeScript</span>
            <span class="skill-tag">Next.js</span>
            <span class="skill-tag">HTML5/CSS3</span>
        </div>

        <div class="skill-category">
            <h4>Backend & Database</h4>
            <span class="skill-tag">Node.js</span>
            <span class="skill-tag">Python</span>
            <span class="skill-tag">PostgreSQL</span>
            <span class="skill-tag">MongoDB</span>
            <span class="skill-tag">Redis</span>
        </div>

        <div class="skill-category">
            <h4>Cloud & DevOps</h4>
            <span class="skill-tag">AWS</span>
            <span class="skill-tag">Docker</span>
            <span class="skill-tag">Kubernetes</span>
            <span class="skill-tag">CI/CD</span>
            <span class="skill-tag">Terraform</span>
        </div>

        <div class="skill-category">
            <h4>Tools & Methodologies</h4>
            <span class="skill-tag">Git</span>
            <span class="skill-tag">Agile/Scrum</span>
            <span class="skill-tag">Jest/Testing</span>
            <span class="skill-tag">Microservices</span>
            <span class="skill-tag">API Design</span>
        </div>
    </div>
</div>

<div class="cv-section">
    <h3>Professional Experience</h3>
    <div class="cv-job">
        <div class="cv-job-title">Senior Software Engineer</div>
        <div class="cv-job-meta">TechCorp Solutions, Warsaw | 2022 ‚Äì Present</div>
        <ul>
            <li>Led development of microservices architecture serving 100K+ daily active users</li>
            <li>Implemented CI/CD pipelines reducing deployment time by 60% and improving reliability</li>
            <li>Mentored team of 4 junior developers, improving code quality and team productivity by 40%</li>
            <li>Architected and delivered real-time analytics dashboard using React, Node.js, and AWS</li>
            <li>Optimized database queries and caching strategies, improving application performance by 35%</li>
        </ul>
    </div>

    <div class="cv-job">
        <div class="cv-job-title">Full-Stack Developer</div>
        <div class="cv-job-meta">InnovateTech, Krakow | 2020 ‚Äì 2022</div>
        <ul>
            <li>Developed and maintained e-commerce platform handling 50K+ monthly transactions</li>
            <li>Built responsive web applications using Vue.js, Express.js, and PostgreSQL</li>
            <li>Collaborated with UX/UI designers to implement pixel-perfect, accessible interfaces</li>
            <li>Integrated third-party APIs including payment gateways, shipping providers, and analytics</li>
            <li>Participated in code reviews and maintained 90%+ test coverage across all projects</li>
        </ul>
    </div>

    <div class="cv-job">
        <div class="cv-job-title">Junior Web Developer</div>
        <div class="cv-job-meta">StartupHub, Warsaw | 2019 ‚Äì 2020</div>
        <ul>
            <li>Built responsive websites and web applications using modern JavaScript frameworks</li>
            <li>Worked closely with design team to translate mockups into functional user interfaces</li>
            <li>Implemented RESTful APIs and integrated with various third-party services</li>
            <li>Contributed to open-source projects and maintained company blog with technical articles</li>
        </ul>
    </div>
</div>

<div class="cv-section">
    <h3>Education & Certifications</h3>
    <div class="cv-education">
        <div class="education-section">
            <h4>Education</h4>
            <div class="education-item">
                <div class="degree"><strong>M.Sc. Computer Science</strong></div>
                <div class="institution">University of Warsaw</div>
                <div class="date">2017 ‚Äì 2019</div>
            </div>
            <div class="education-item">
                <div class="degree"><strong>B.Sc. Software Engineering</strong></div>
                <div class="institution">Warsaw University of Technology</div>
                <div class="date">2014 ‚Äì 2017</div>
            </div>
        </div>

        <div class="education-section">
            <h4>Certifications</h4>
            <ul class="cert-list">
                <li><strong>AWS Certified Solutions Architect</strong> ‚Äì 2023</li>
                <li><strong>Certified Kubernetes Administrator (CKA)</strong> ‚Äì 2022</li>
                <li><strong>Google Cloud Professional Developer</strong> ‚Äì 2021</li>
                <li><strong>MongoDB Certified Developer</strong> ‚Äì 2020</li>
            </ul>
        </div>

        <div class="education-section">
            <h4>Languages</h4>
            <div class="language-grid">
                <span class="language-item">English: <strong>Fluent (C1)</strong></span>
                <span class="language-item">Polish: <strong>Native</strong></span>
                <span class="language-item">German: <strong>Intermediate (B2)</strong></span>
            </div>
        </div>

        <div class="education-section">
            <h4>Projects & Achievements</h4>
            <ul class="cert-list">
                <li><strong>Open Source Contributor</strong> ‚Äì 15+ contributions to popular React libraries</li>
                <li><strong>Tech Conference Speaker</strong> ‚Äì Presented at 3 major developer conferences</li>
                <li><strong>Innovation Award</strong> ‚Äì Company recognition for implementing ML-powered features</li>
                <li><strong>Team Leadership</strong> ‚Äì Successfully led 2 cross-functional product teams</li>
            </ul>
        </div>
    </div>
</div>

                <div class="form-group">
                    <label class="form-label" for="atsStrict">ATS-Friendly Mode</label>
                    <div class="form-inline">
                        <input type="checkbox" id="atsStrict" onchange="toggleAtsMode()" />
                        <label for="atsStrict">Simplify layout and colors for Applicant Tracking Systems</label>
                    </div>
                    <div class="form-help">When enabled, uses clean fonts, no backgrounds, and single-column layout for maximum ATS parsing.</div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="atsInsights">ATS Insights</label>
                    <div id="atsInsights" class="ats-insights-panel">
                        <div class="ats-insight loading">Analyzing your CV for ATS best practices‚Ä¶</div>
                    </div>
                    <div class="form-help">These tips refresh automatically as you edit to keep your CV recruiter-ready.</div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="highlights">Key Highlights (Top of CV)</label>
                    <textarea id="highlights" class="form-textarea" placeholder="3-6 bullets with measurable impact, e.g. \n‚Ä¢ Increased revenue by 35% YoY\n‚Ä¢ Reduced cloud costs by 28%\n‚Ä¢ Led 8-person cross-functional team"></textarea>
                    <div class="form-help">Short, high-impact bullets recruiters love. Keep it measurable.</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="photoUpload">Profile Photo</label>
                    <input type="file" id="photoUpload" class="file-input" accept="image/*" title="Upload profile photo">
                    <div class="file-help">Upload a professional photo (optional)</div>
                </div>
            </div>
            
            <!-- Preview Panel -->
            <div class="preview-panel">
                <h2 class="section-title">üëÅÔ∏è Live Preview</h2>
                <div id="cvPreview" class="cv">
                    <!-- CV content will be generated here -->
                </div>
            </div>
        </div>
        
        <div class="controls">
            <label for="printScale" class="form-label compact" style="display:inline-block;margin-right:8px;">Scale for Print</label>
            <select id="printScale" class="form-input format-select" title="Scale for Print" style="display:inline-block;max-width:140px;margin-right:8px;vertical-align:middle;">
                <option value="100" selected>100%</option>
                <option value="90">90%</option>
                <option value="85">85%</option>
                <option value="80">80%</option>
                <option value="75">75%</option>
                <option value="70">70% (iPad friendly)</option>
            </select>
            <button class="btn btn-primary" onclick="updatePreview()">üîÑ Update Preview</button>
            <button class="btn btn-success" onclick="downloadPDF()">üìÑ Download PDF</button>
            <button class="btn btn-success" id="exportBtn" onclick="exportPDF()">üßæ Export PDF (No Headers)</button>
                <span id="pdfEngineStatus" class="status-indicator status-loading">Engine: loading‚Ä¶</span>
                <span id="previewStatus" class="status-indicator status-loading">Preview: checking‚Ä¶</span>
            <button class="btn btn-info debug-btn" onclick="debugCVContent()" title="Debug CV content">üîß Debug</button>
            <button class="btn btn-primary" id="printBtn" onclick="printCV()">üñ®Ô∏è Print CV</button>
            <button class="btn btn-secondary" onclick="downloadAsHTML()">‚¨áÔ∏è Download HTML</button>
            <button class="btn btn-secondary" onclick="downloadAsText()">‚¨áÔ∏è Download Text</button>
            <button class="btn btn-secondary" onclick="clearAll()">üóëÔ∏è Clear All</button>
            <button class="btn btn-primary hidden" onclick="addToHomeScreen()" id="addToHomeBtn">üì± Add to Home</button>
        </div>
        
        <!-- iOS Help Modal -->
        <div id="iosHelpModal" class="modal hidden">
            <div class="modal-content">
                <span class="close-modal" onclick="closeIosHelp()">&times;</span>
                <h2>üì± iOS Setup Guide</h2>
                
                <div class="help-section">
                    <h3>üéØ Quick Fix: Files App Method</h3>
                    <div class="help-step">1. <strong>Open Files app</strong> on your iPhone/iPad</div>
                    <div class="help-step">2. <strong>Find the downloaded HTML file</strong></div>
                    <div class="help-step">3. <strong>Tap and hold</strong> the file</div>
                    <div class="help-step">4. <strong>Tap "Share"</strong> ‚Üí <strong>"Copy to Safari"</strong></div>
                </div>
                
                <div class="help-section">
                    <h3>üìß Alternative: Email Method</h3>
                    <div class="help-step">1. <strong>Email yourself</strong> the HTML file</div>
                    <div class="help-step">2. <strong>Open email</strong> on your device</div>
                    <div class="help-step">3. <strong>Tap attachment</strong> ‚Üí <strong>"Open in Safari"</strong></div>
                </div>
                
                <div class="help-section web-version">
                    <h3>üåê Best Solution: Use Web Version</h3>
                    <div class="help-step">Upload to free hosting:</div>
                    <div class="help-step">‚Ä¢ <strong>GitHub Pages</strong> (free, easy)</div>
                    <div class="help-step">‚Ä¢ <strong>Netlify Drop</strong> (drag & drop)</div>
                    <div class="help-step">‚Ä¢ <strong>Google Drive</strong> (share as web page)</div>
                </div>
                
                <div class="help-section">
                    <h3>‚öôÔ∏è iOS Settings Check</h3>
                    <div class="help-step">1. Go to <strong>Settings ‚Üí Safari</strong></div>
                    <div class="help-step">2. Ensure <strong>"JavaScript"</strong> is enabled</div>
                    <div class="help-step">3. Check <strong>"Block Pop-ups"</strong> is off</div>
                </div>
                
                <button class="btn btn-primary" onclick="closeIosHelp()">Got it! üëç</button>
            </div>
        </div>
    </div>

        <div class="footer">
            <div class="footer-content">
                <p>&copy; 2025 CV Generator By Tinotenda Nyashanu | Built for creating professional resumes</p>
                <p>Compatible with all devices including iPhone, iPad, Android & Desktop</p>
                <button class="btn btn-secondary" onclick="showIosHelp()">üì± iOS Help</button>
            </div>
        </div>

    <!-- Load local PDF engine first (offline-first); if missing, fallback to CDN -->
    <script src="html2pdf.bundle.min.js" onerror="var s=document.createElement('script'); s.src='https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js'; s.integrity='sha512-YcsIPW+s8AxnqgL6EvNQOWmJqCgeNtMZyfQqBdmWmV2u6sO564Z6S9q0hYqKJKmVvoQZ9K7kPnJ4z0ZmwQ6WUg=='; s.crossOrigin='anonymous'; s.referrerPolicy='no-referrer'; document.body.appendChild(s);"></script>
    <script src="script.js?v=2025-10-07-v4"></script>
</body>
</html>
